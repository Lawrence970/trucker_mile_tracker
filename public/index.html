<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trucker Mile Tracker</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="vue-app-wrapper">
      <div class="container">
        <!--! LANDING PAGE-->
        <div class="test-nav">
          <button v-on:click="changePageDisplay('adminLanding')">admin</button>
          <button v-on:click="changePageDisplay('driverLanding')">
            driver
          </button>
        </div>
        <div class="display-flex-col-align-center" v-if="page=='landingContainer'">
          <h1 class="app-name-header-one">TRACK THE TRUCK</h1>
          <p class="subscript-yellow">Keeping Track of Miles for You</p>
          <button
            type="button"
            class="input-button"
            id="redirect-form-login"
            v-on:click="changePageDisplay('signIn')"
          >
            <a>Sign In</a>
          </button>
          <button
            type="button"
            class="input-button"
            id="redirect-form-signUp"
            v-on:click="changePageDisplay('signUpCompany'), type_role=`company`"
          >
            Sign Up
          </button>
        </div>

        <!--! SIGN UP / LOGIN FORMs-->
        <div id="form-container">
          <!--*login form-->
          <div class="form" v-if="page=='signIn'">
            <!--action="POST"-->
            <h1 class="form-title">Login</h1>
            <div class="form-message form-message-error"></div>
            <!--* error message-->

            <!-- DISPLAYING THE FIELDS THAT NEED TO BE DISPLAYED: VALIDATION -->
            <div class="logInErrors">
              <ul>
                <li v-for="error in logInUserErrors">{{error}}</li>
              </ul>
            </div>

            <!-- EMAIL INPUT FIELD-->
            <div class="form-input-group">
              <input
                type="text"
                v-model="logInEmail"
                class="form-input"
                placeholder="Email"
                autofocus
              />
              <div class="form-input-error-message"></div>
            </div>

            <!-- PASSWORD input field-->
            <div class="form-input-group">
              <input
                type="password"
                v-model="logInPassword"
                class="form-input"
                placeholder="Password"
              />
              <div class="form-input-error-message"></div>
            </div>

            <!--submit and links-->
            <button type="submit" v-on:click="logInUser" class="form-button">
              Continue
            </button>
            <p class="form-text">
              <a href="#" class="form-link">Forgot your password?</a>
            </p>
            <p class="form-text">
              <a
                href="#"
                id="linkCreateAccount"
                class="form-link"
                v-on:click="changePageDisplay('signUpCompany')"
                >Dont have an account? Sign up here</a
              >
            </p>
          </div>

          <!--*create account COMPANY form-->
          <div class="form" id="createAccount" v-if="page=='signUpCompany'">
            <h1 class="form-title">Create Account</h1>
            <!--* error message-->
            <!-- DIV TO DISPLAY ERRORS IF COMPANY DONT FILL ALL THEM OUT -->

            <div
              v-if="signUpCompanyErrors.length > 0"
              class="sign-up-company-errors-wrapper"
            >
              <ul>
                <li v-for="error in signUpCompanyErrors">{{error}}</li>
              </ul>
            </div>
          </div>


        <!--*create account COMPANY form-->
        <div class="form" v-if="page=='signUpCompany'">
          <h1 class="form-title">Create Account</h1>

          <!-- EMAIL INPUT FIELD-->
          <div class="form-input-group">
            <input
              type="text"
              class="form-input"
              placeholder="Email"
              autofocus
              v-model="new_company_email"
            />
          </div>

          <div class="form-input-group">
            <input
              type="text"
              class="form-input"
              placeholder="Company Name"
              v-model="new_company_name"
            />
          </div>

          <!-- PASSWORD input field-->
          <div class="form-input-group">
            <input
              type="password"
              class="form-input"
              placeholder="Password"
              v-model="new_company_password"
            />
          </div>

          <!--confirm password field-->
          <div class="form-input-group">
            <input
              type="password"
              class="form-input"
              placeholder="Confirm Password"
              v-model="new_company_confirm_password"
            />
          </div>

          <!--submit and links-->
          <button class="form-button" v-on:click="addNewUser">Continue</button>
          <p class="form-text">
            <a
              href="#"
              class="form-link"
              v-on:click="changePageDisplay('signIn')"
              >Already Have an Account? Sign In Here</a
            >
          </p>
        </div>

        <!--* ADMIN PAGE---------------------------------------------------------------------------------------------------------------------------->
        <!--! ADMIN LANDING success on login/signup-->
        <div v-if="page=='adminLanding'" class="display-flex-col-align-center">
          <h1>Welcome {{currentUser.company.company_name}}</h1>
          <button class="input-button" v-on:click="goToDisplayAllDrivers">
            All Drivers
          </button>
          <button
            class="input-button"
            v-on:click="changePageDisplay('addDriver', type_role='user')"
          >
            Add New Driver
          </button>
        </div>

        <div v-if="page=='allDrivers'">
          <h1 class="subscript-yellow">All Drivers</h1>
          <div id="all-drivers-wrapper">
            <ul>
              <li v-for="driver in drivers">
                <div v-on:click="goToDriver(driver)" class="driver-wrapper">
                  <span>{{driver.first_name}} {{driver.last_name}}</span>
                  <span>{{ driver.id }}</span>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <div v-if="page=='oneDriver'">

        </div>

        <!--! NEW DRIVER FORM FOR ADMINS-->
        <div class="form-container" v-if="page=='addDriver'">
          <!--*create account USER form-->
          <div class="form">
            <span class="form-menu-selection">
              <img
                class="hamburger-menu"
                src="/icons/navigation-menu.svg"
                alt="menu"
              />
              <button
                class="cancel-button"
                v-on:click="changePageDisplay('adminLanding')"
              >
                Cancel
              </button>
            </span>

            <h1 class="form-title">New Driver</h1>
            <div class="form-message form-message-error"></div>
            <!--* error message-->
            <!-- DIV TO DISPLAY ERRORS IF USER DOESN'T FILL ALL THEM OUT -->

            <div
              v-if="signUpUserErrors.length > 0"
              class="sign-up-user-errors-wrapper"
            >
              <ul>
                <li v-for="error in signUpUserErrors">{{error}}</li>
              </ul>
            </div>

            <!-- EMAIL INPUT FIELD-->
            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="Email"
                v-model="email"
                autofocus
              />
            </div>

            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="First Name"
                v-model="first_name"
              />
              <div class="form-input-error-message"></div>
            </div>

            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="Last Name"
                v-model="last_name"
              />
              <div class="form-input-error-message"></div>
            </div>

            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="password"
                v-model="password"
              />
              <div class="form-input-error-message"></div>
            </div>

            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="confirm password"
                v-model="confirm_password"
              />
              <p class="subscript-gray">Give this password to your driver</p>
            </div>

            <!--submit and links-->
            <button class="form-button" v-on:click="addNewUser">
              Continue
            </button>
          </div>
        </div>

        <!--* DRIVER PAGE---------------------------------------------------------------------------------------------------------------------------->
        <!--! DRIVER LANDING success on login-->
        <div v-if="page=='driverLanding'" class="display-flex-col-align-center">
          <h1>Welcome Driver {{currentUser.first_name}} {{currentUser.last_name}}</h1>
          <button
            class="input-button"
            v-on:click="changePageDisplay('newRoute')"
          >
            New Route
          </button>
          <button
            class="input-button"
            v-on:click="changePageDisplay('allRoutes')"
          >
            My Routes
          </button>
          <button
            class="input-button"
            v-on:click="changePageDisplay('pastRoutes')"
          >
            My Past Routes
          </button>
        </div>
        <!--! My Routes *DISPLAY ALL ROUTES* -->
        <div v-if="page=='allRoutes'">
          <ul>
            <li v-for="route in routes"></li>
          </ul>
        </div>
        <!--! Start A new Route *New route form*-->
        <div v-if="page=='newRoute'">
          <div class="form">
            <span class="form-menu-selection">
              <img
                class="hamburger-menu"
                src="/icons/navigation-menu.svg"
                alt="menu"
              />
              <button
                class="cancel-button"
                v-on:click="changePageDisplay('driverLanding')"
              >
                Cancel
              </button>
            </span>

            <h1 class="form-title">New Route</h1>

            <!-- START LOCATION INPUT FIELD-->
            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="Start"
                autofocus
              />
            </div>
            <div class="form-input-group">
              <input
                type="text"
                class="form-input"
                placeholder="End"
                autofocus
              />
            </div>
            <button class="form-button">Continue</button>
          </div>
        </div>
        <!--! View past routes-->
        <div v-if="page=='pastRoutes'"></div>
      </div>
    </div>
  </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="vue.js"></script>
  </body>
</html>
